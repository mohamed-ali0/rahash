<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ูุธุงู ุฅุฏุงุฑุฉ ุงูุฃุนูุงู | Business Management System</title>
    <link rel="stylesheet" href="/css/globals.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@200;300;400;500;700;800;900&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Sidebar -->
    <div class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <div class="logo-container">
                <img src="/logo.png" alt="Logo" class="dashboard-logo">
                <div class="welcome-text">
                    <h2 data-ar="ูุฑุญุจุง ุจู ูู ุนุงูู ุฑูุด" data-en="Welcome to Rahash World">ูุฑุญุจุง ุจู ูู ุนุงูู ุฑูุด</h2>
                </div>
            </div>
            <button class="sidebar-close" onclick="toggleSidebar()">ร</button>
        </div>
        
        <div class="sidebar-content">
            <div class="user-info">
                <span class="user-greeting" id="userGreeting"></span>
            </div>
            
            <nav class="sidebar-nav">
                <ul>
                    <li><a href="#dashboard" onclick="navigateAndCloseSidebar('dashboard')" data-ar="ููุญุฉ ุงูุชุญูู" data-en="Dashboard">๐ <span data-ar="ููุญุฉ ุงูุชุญูู" data-en="Dashboard">ููุญุฉ ุงูุชุญูู</span></a></li>
                    <li><a href="#clients" onclick="navigateAndCloseSidebar('clients')" data-ar="ุฅุฏุงุฑุฉ ุงูุนููุงุก" data-en="Manage Clients">๐ฅ <span data-ar="ุฅุฏุงุฑุฉ ุงูุนููุงุก" data-en="Manage Clients">ุฅุฏุงุฑุฉ ุงูุนููุงุก</span></a></li>
                    <li><a href="#products" onclick="navigateAndCloseSidebar('products')" data-ar="ุฅุฏุงุฑุฉ ุงูููุชุฌุงุช" data-en="Manage Products">๐ฆ <span data-ar="ุฅุฏุงุฑุฉ ุงูููุชุฌุงุช" data-en="Manage Products">ุฅุฏุงุฑุฉ ุงูููุชุฌุงุช</span></a></li>
                    <li><a href="#reports" onclick="navigateAndCloseSidebar('reports')" data-ar="ุชูุงุฑูุฑ ุงูุฒูุงุฑุงุช" data-en="Visit Reports">๐ <span data-ar="ุชูุงุฑูุฑ ุงูุฒูุงุฑุงุช" data-en="Visit Reports">ุชูุงุฑูุฑ ุงูุฒูุงุฑุงุช</span></a></li>
                    <li id="systemSettingsMenuItem" style="display: none;"><a href="#settings" onclick="navigateAndCloseSidebar('settings')" data-ar="ุฅุนุฏุงุฏุงุช ุงููุธุงู" data-en="System Settings">โ๏ธ <span data-ar="ุฅุนุฏุงุฏุงุช ุงููุธุงู" data-en="System Settings">ุฅุนุฏุงุฏุงุช ุงููุธุงู</span></a></li>
                </ul>
            </nav>
            
            <div class="sidebar-footer">
                <button class="btn btn-logout" onclick="logout()" data-ar="ุชุณุฌูู ุงูุฎุฑูุฌ" data-en="Logout">๐ช <span data-ar="ุชุณุฌูู ุงูุฎุฑูุฌ" data-en="Logout">ุชุณุฌูู ุงูุฎุฑูุฌ</span></button>
                <div class="language-toggle">
                    <button id="langToggle" class="btn-lang">EN</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Desktop Header -->
    <header class="desktop-header">
        <div class="header-content">
            <div class="header-left">
                <img src="/top_bar_logo.png" alt="Rahash Logo" class="desktop-header-logo">
            </div>
            <div class="header-actions">
                <button id="langToggleDesktop" class="btn-lang">EN</button>
            </div>
        </div>
    </header>

    <!-- Mobile Header -->
    <header class="mobile-header">
        <button class="menu-toggle" onclick="toggleSidebar()">โฐ</button>
        <div class="header-center">
            <img src="/top_bar_logo.png" alt="Rahash Logo" class="mobile-header-logo">
        </div>
        <div class="header-actions">
            <button id="langToggleMobile" class="btn-lang">EN</button>
        </div>
    </header>

    <!-- Sidebar Overlay -->
    <div class="sidebar-overlay" id="sidebarOverlay" onclick="toggleSidebar()"></div>
    
    <!-- Desktop Sidebar Toggle -->
    <button class="sidebar-toggle-desktop" onclick="toggleSidebar()">โฐ</button>
    
    <main class="main-content" id="mainContent">
        <section id="dashboard">
            <h2 data-ar="ููุญุฉ ุงูุชุญูู" data-en="Dashboard">ููุญุฉ ุงูุชุญูู</h2>
            <div class="dashboard-cards">
                <div class="card">
                    <h3 data-ar="ุฅุฌูุงูู ุงูุนููุงุก" data-en="Total Clients">ุฅุฌูุงูู ุงูุนููุงุก</h3>
                    <p class="card-number" id="totalClients">0</p>
                </div>
                <div class="card">
                    <h3 data-ar="ุฅุฌูุงูู ุงูููุชุฌุงุช" data-en="Total Products">ุฅุฌูุงูู ุงูููุชุฌุงุช</h3>
                    <p class="card-number" id="totalProducts">0</p>
                </div>
                <div class="card">
                    <h3 data-ar="ุชูุงุฑูุฑ ูุฐุง ุงูุดูุฑ" data-en="This Month Reports">ุชูุงุฑูุฑ ูุฐุง ุงูุดูุฑ</h3>
                    <p class="card-number" id="monthlyReports">0</p>
                </div>
            </div>
        </section>
        
        <section id="clients">
            <h2 data-ar="ุฅุฏุงุฑุฉ ุงูุนููุงุก" data-en="Client Management">ุฅุฏุงุฑุฉ ุงูุนููุงุก</h2>
            <div class="section-actions">
                <div class="search-container">
                    <input type="text" id="clientSearch" class="search-input" placeholder="ุงูุจุญุซ ุนู ุงูุนููุงุก..." data-ar="ุงูุจุญุซ ุนู ุงูุนููุงุก..." data-en="Search clients...">
                    <div class="search-icon">๐</div>
                </div>
                <div class="filter-group">
                    <div class="filter-container">
                        <select id="regionFilter" class="filter-select" data-ar="ุชุตููุฉ ุญุณุจ ุงูููุทูุฉ" data-en="Filter by region">
                            <option value="" data-ar="ุฌููุน ุงูููุงุทู" data-en="All Regions">ุฌููุน ุงูููุงุทู</option>
                        </select>
                    </div>
                    <div class="filter-container">
                        <select id="salesmanFilter" class="filter-select" data-ar="ุชุตููุฉ ุญุณุจ ุงูุจุงุฆุน" data-en="Filter by salesman">
                            <option value="" data-ar="ุฌููุน ุงูุจุงุฆุนูู" data-en="All Salesmen">ุฌููุน ุงูุจุงุฆุนูู</option>
                        </select>
                    </div>
                    <div class="filter-container">
                        <select id="clientStatusFilter" class="filter-select" data-ar="ุชุตููุฉ ุญุณุจ ุงูุญุงูุฉ" data-en="Filter by status">
                            <option value="active" data-ar="ุงูุนููุงุก ุงููุดุทูู" data-en="Active Clients">ุงูุนููุงุก ุงููุดุทูู</option>
                            <option value="inactive" data-ar="ุงูุนููุงุก ุงููุนุทููู" data-en="Inactive Clients">ุงูุนููุงุก ุงููุนุทููู</option>
                            <option value="all" data-ar="ุฌููุน ุงูุนููุงุก" data-en="All Clients">ุฌููุน ุงูุนููุงุก</option>
                        </select>
                    </div>
                </div>
                <button class="btn btn-primary" id="addClientBtn" data-ar="ุฅุถุงูุฉ ุนููู ุฌุฏูุฏ" data-en="Add New Client">
                    <svg width="16" height="16" viewBox="0 0 24 24">
                        <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/>
                    </svg>
                    <span data-ar="ุฅุถุงูุฉ ุนููู" data-en="Add Client">ุฅุถุงูุฉ ุนููู</span>
                </button>
            </div>
            <div class="clients-grid" id="clientsList">
                <!-- Client cards will be populated here -->
            </div>
        </section>
        
        <section id="products">
            <h2 data-ar="ุฅุฏุงุฑุฉ ุงูููุชุฌุงุช" data-en="Product Management">ุฅุฏุงุฑุฉ ุงูููุชุฌุงุช</h2>
            <div class="section-actions">
                <div class="search-container">
                    <input type="text" id="productSearch" class="search-input" placeholder="ุงูุจุญุซ ุนู ุงูููุชุฌุงุช..." data-ar="ุงูุจุญุซ ุนู ุงูููุชุฌุงุช..." data-en="Search products...">
                    <div class="search-icon">๐</div>
                </div>
                <button class="btn btn-primary" id="addProductBtn" data-ar="ุฅุถุงูุฉ ููุชุฌ ุฌุฏูุฏ" data-en="Add New Product">
                    <svg width="16" height="16" viewBox="0 0 24 24">
                        <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/>
                    </svg>
                    <span data-ar="ุฅุถุงูุฉ ููุชุฌ" data-en="Add Product">ุฅุถุงูุฉ ููุชุฌ</span>
                </button>
            </div>
            <div class="products-grid" id="productsList">
                <!-- Product cards will be populated here -->
            </div>
        </section>
        
        <section id="reports">
            <h2 data-ar="ุชูุงุฑูุฑ ุงูุฒูุงุฑุงุช" data-en="Visit Reports">ุชูุงุฑูุฑ ุงูุฒูุงุฑุงุช</h2>
            <div class="section-actions">
                <div class="filter-group">
                    <div class="filter-container">
                        <select id="reportStatusFilter" class="filter-select" data-ar="ุชุตููุฉ ุญุณุจ ุงูุญุงูุฉ" data-en="Filter by status">
                            <option value="active" data-ar="ุงูุชูุงุฑูุฑ ุงููุดุทุฉ" data-en="Active Reports">ุงูุชูุงุฑูุฑ ุงููุดุทุฉ</option>
                            <option value="inactive" data-ar="ุงูุชูุงุฑูุฑ ุงููุนุทูุฉ" data-en="Inactive Reports">ุงูุชูุงุฑูุฑ ุงููุนุทูุฉ</option>
                            <option value="all" data-ar="ุฌููุน ุงูุชูุงุฑูุฑ" data-en="All Reports">ุฌููุน ุงูุชูุงุฑูุฑ</option>
                        </select>
                    </div>
                </div>
                <button class="btn btn-primary" id="addReportBtn" data-ar="ุฅุถุงูุฉ ุชูุฑูุฑ ุฒูุงุฑุฉ" data-en="Add Visit Report">
                    <svg width="16" height="16" viewBox="0 0 24 24">
                        <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/>
                    </svg>
                    <span data-ar="ุฅุถุงูุฉ ุชูุฑูุฑ" data-en="Add Report">ุฅุถุงูุฉ ุชูุฑูุฑ</span>
                </button>
            </div>
            <div class="reports-grid" id="reportsList">
                <!-- Visit report cards will be populated here -->
            </div>
        </section>
        
        <section id="settings" style="display: none;">
            <h2 data-ar="ุฅุนุฏุงุฏุงุช ุงููุธุงู" data-en="System Settings">ุฅุนุฏุงุฏุงุช ุงููุธุงู</h2>
            <div class="settings-container">
                <div class="settings-card">
                    <h3 data-ar="ุฅุนุฏุงุฏุงุช ุงูุชุณุนูุฑ" data-en="Pricing Settings">ุฅุนุฏุงุฏุงุช ุงูุชุณุนูุฑ</h3>
                    <div class="form-group">
                        <label for="priceTolerance" data-ar="ูุทุงู ุงูุชุณุนูุฑ ุงููุณููุญ" data-en="Price Tolerance">ูุทุงู ุงูุชุณุนูุฑ ุงููุณููุญ:</label>
                        <div class="input-group">
                            <input type="number" id="priceTolerance" step="0.01" min="0" max="100" placeholder="0.00">
                            <span class="input-suffix" data-ar="ุฑูุงู" data-en="SAR">ุฑูุงู</span>
                        </div>
                        <small class="form-help" data-ar="ุงูุญุฏ ุงูุฃูุตู ูููุฑู ุงููุณููุญ ุจู ุจูู ุงูุณุนุฑ ุงููุนุฑูุถ ูุงูุณุนุฑ ุงููุนูู" data-en="Maximum allowed difference between displayed and actual price">ุงูุญุฏ ุงูุฃูุตู ูููุฑู ุงููุณููุญ ุจู ุจูู ุงูุณุนุฑ ุงููุนุฑูุถ ูุงูุณุนุฑ ุงููุนูู</small>
                    </div>
                    <button class="btn btn-primary" onclick="saveSystemSettings()" data-ar="ุญูุธ ุงูุฅุนุฏุงุฏุงุช" data-en="Save Settings">
                        <svg width="16" height="16" viewBox="0 0 24 24">
                            <path d="M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"/>
                        </svg>
                        <span data-ar="ุญูุธ ุงูุฅุนุฏุงุฏุงุช" data-en="Save Settings">ุญูุธ ุงูุฅุนุฏุงุฏุงุช</span>
                    </button>
                </div>
                
                <div class="settings-card">
                    <h3 data-ar="ูุนูููุงุช ุงููุธุงู" data-en="System Information">ูุนูููุงุช ุงููุธุงู</h3>
                    <div class="system-info">
                        <div class="info-item">
                            <span class="info-label" data-ar="ุฅุตุฏุงุฑ ุงููุธุงู" data-en="System Version">ุฅุตุฏุงุฑ ุงููุธุงู:</span>
                            <span class="info-value">1.0.0</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label" data-ar="ุขุฎุฑ ุชุญุฏูุซ" data-en="Last Updated">ุขุฎุฑ ุชุญุฏูุซ:</span>
                            <span class="info-value">ููุงูุฑ 2025</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>
    
    <footer>
        <p>&copy; 2025 Business Management System</p>
    </footer>
    
    <!-- Expanded Product View Modal -->
    <div id="expandedModal" class="expanded-modal">
        <!-- Modal content will be populated by JavaScript -->
    </div>

    <!-- Add Product Modal -->
    <div id="addProductModal" class="modal-overlay" style="display: none;">
        <!-- Modal content will be populated by JavaScript -->
    </div>
    
    <script src="/js/main.js"></script>
</body>
</html>
